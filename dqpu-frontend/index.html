<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Computing Tasks</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@3.6.4/dist/vuetify.min.css">
    <style>
        /* body {
            background-color: #222;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #444;
        }
        th {
            background-color: #333;
        }
        tr:nth-child(even) {
            background-color: #444;
        }
        tr:hover {
            background-color: #555;
        }
        .status-icon {
            font-size: 24px;
        }
        
        .waiting { color: yellow; }
        .validating { color: blue; }
        .executed { color: green; }
        .invalid { color: red; } */
        
    </style>
</head>

<body>
    <div id="app">
        <v-container>
            <v-card>
                <v-card-title>DQPU Job List</v-card-title>
                <v-card-subtitle>This list shows all the quantum sampling jobs of the DQPU smart contract on NEAR
                    blockchain.</v-card-subtitle>
                <v-card-text>
                    <div class="d-flex justify-space">
                        <v-card class="mx-3" outlined elevated>
                          <v-card-text>
                            <div class="d-flex align-center">
                              <v-icon class="mr-3">fas fa-download</v-icon>
                              <div class="font-weight-bold display-1">{{ n_jobs }}</div>
                              <div class="text-caption ml-3">Total Jobs</div>
                            </div>
                          </v-card-text>
                        </v-card>
                        <v-card class="mx-3" outlined elevated>
                          <v-card-text>
                            <div class="d-flex align-center">
                              <v-icon class="mr-3">fas fa-users</v-icon>
                              <div class="font-weight-bold display-1">{{ n_verifiers }}</div>
                              <div class="text-caption ml-3">Verifiers</div>
                            </div>
                          </v-card-text>
                        </v-card>
                        <!-- <v-card class="mx-3" outlined elevated>
                          <v-card-text>
                            <div class="d-flex align-center">
                              <v-icon class="mr-3">fas fa-rocket</v-icon>
                              <div class="font-weight-bold display-1">789</div>
                              <div class="text-caption ml-3">Waiting Jobs</div>
                            </div>
                          </v-card-text>
                        </v-card> -->
                      </div>

                    <v-data-table :items="jobs">
                        <template v-slot:header.owner_id>Owner</template>
                        <template v-slot:header.verifier_id>Verifier</template>
                        <template v-slot:header.sampler_id>Sampler</template>
                        <template v-slot:header.reward_amount>Reward</template>
                        <template v-slot:header.sampler_deposit>Deposit</template>
                        <template v-slot:header.job_file>Job</template>
                        <template v-slot:header.result_file>Result</template>

                        <template v-slot:item.reward_amount="{ item }">
                            {{item.reward_amount/1000000000000000000000000}} N
                        </template>

                        <template v-slot:item.sampler_deposit="{ item }">
                            {{item.sampler_deposit/1000000000000000000000000}} N
                        </template>

                        <template v-slot:item.qubits="{ item }">
                            <v-chip color="green">{{item.qubits}}</v-chip>
                        </template>

                        <template v-slot:item.shots="{ item }">
                            <v-chip color="primary">{{item.shots}}</v-chip>
                        </template>

                        <template v-slot:item.deep="{ item }">
                            <v-chip color="yellow">{{item.deep}}</v-chip>
                        </template>

                        <template v-slot:item.status="{ item }">
                            <v-icon :color="statusIcon(item.status).color"
                                :icon="statusIcon(item.status).icon"></v-icon>
                        </template>

                        <template v-slot:item.owner_id="{ item }">
                            <v-icon icon="fa fa-user"></v-icon>
                        </template>

                        <template v-slot:item.verifier_id="{ item }">
                            <v-icon icon="fa fa-user"></v-icon>
                        </template>

                        <template v-slot:item.sampler_id="{ item }">
                            <v-icon icon="fa fa-user"></v-icon>
                        </template>

                        <template v-slot:item.result_file="{ item }">
                            <v-icon icon="fa fa-file"></v-icon>
                        </template>
                        <template v-slot:item.job_file="{ item }">
                            <v-icon icon="fa fa-file"></v-icon>
                        </template>
                    </v-data-table>
                </v-card-text>
            </v-card>
        </v-container>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@3.6.4/dist/vuetify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/near-api-js@3.0.4/dist/near-api-js.min.js"></script>
    <script src="./main.js"></script>
</body>

</html>